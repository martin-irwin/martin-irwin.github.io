
-
<div style="margin-bottom: 2.8rem;">
  <p>It is Week <span id="week-number">--</span>.</p>
  <p>The quarter ends <span id="quarter-end">--</span>.</p>
  <p>There are <span id="business-days-left">--</span> business days until the end of the quarter.</p>
</div>

<div style="margin-bottom: 2.8rem;">
  <h3>The quarters for 2026 are:</h3>
  <ul id="quarter-list" style="list-style: none; margin-top: 0.7rem; font-size: 0.75rem; opacity: 0.8;">
    <li>Q1: Jan 01 – Mar 31</li>
    <li>Q2: Apr 01 – Jun 30</li>
    <li>Q3: Jul 01 – Sep 30</li>
    <li>Q4: Oct 01 – Dec 31</li>
  </ul>
</div>

<p>The quarter is <span id="quarter-progress">--</span> complete and <span id="year-remaining">--</span> of the year is remaining.</p>

<div style="width: 100%; height: 1px; background-color: #ccc; margin-top: 1.4rem; position: relative;">
    <div id="year-progress-bar" style="width: 0%; height: 1px; background-color: #000; transition: width 1s ease-in-out;"></div>
</div>
<div id="year-progress-text" style="font-size: 0.7rem; opacity: 0.5; margin-top: 0.4rem;">0% of year elapsed</div>

<script>
(function() {
    const now = new Date();
    const year = now.getFullYear();
    const startOfYear = new Date(year, 0, 1);
    
    // 1. Calculate Week Number
    const pastDaysOfYear = (now - startOfYear) / 86400000;
    const weekNum = Math.ceil((pastDaysOfYear + startOfYear.getDay() + 1) / 7);
    document.getElementById('week-number').innerText = weekNum;

    // 2. Quarter Logic
    const qIndex = Math.floor(now.getMonth() / 3); // 0, 1, 2, or 3
    const qEnds = [
        new Date(year, 2, 31), // Mar 31
        new Date(year, 5, 30), // Jun 30
        new Date(year, 8, 30), // Sep 30
        new Date(year, 11, 31) // Dec 31
    ];
    const currentQEnd = qEnds[qIndex];
    document.getElementById('quarter-end').innerText = currentQEnd.toDateString();

    // 3. Business Days Left in Quarter
    function getBusinessDays(start, end) {
        let count = 0;
        let cur = new Date(start.getTime());
        while (cur <= end) {
            let day = cur.getDay();
            if (day !== 0 && day !== 6) count++;
            cur.setDate(cur.getDate() + 1);
        }
        return count;
    }
    document.getElementById('business-days-left').innerText = getBusinessDays(now, currentQEnd);

    // 4. Quarter Progress
    const qStart = new Date(year, qIndex * 3, 1);
    const qTotalDays = (currentQEnd - qStart) / 86400000 + 1;
    const qDaysPassed = (now - qStart) / 86400000;
    const qPercent = Math.min(100, Math.max(0, (qDaysPassed / qTotalDays) * 100)).toFixed(1);
    document.getElementById('quarter-progress').innerText = qPercent + "%";

    // 5. Year Progress & Remaining
    const yearTotalDays = ((new Date(year, 11, 31)) - startOfYear) / 86400000 + 1;
    const yearPercent = ((now - startOfYear) / 86400000 / yearTotalDays * 100).toFixed(1);
    const yearLeft = (100 - yearPercent).toFixed(1);
    
    document.getElementById('year-remaining').innerText = yearLeft + "%";
    document.getElementById('year-progress-bar').style.width = yearPercent + "%";
    document.getElementById('year-progress-text').innerText = yearPercent + "% of year elapsed";
})();
</script>